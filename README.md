---

```markdown
# ğŸš€ NetGit - åŒå¹³å°é€šç”¨ä»£ç†æœåŠ¡

[![ä¸€é”®éƒ¨ç½²åˆ° Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/2476818641/netgit)
[![ä¸€é”®éƒ¨ç½²åˆ° Cloudflare Pages](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https%3A%2F%2Fgithub.com%2F2476818641%2Fnetgit)

**NetGit** æ˜¯ä¸€ä¸ªåŸºäº Netlify å’Œ Cloudflare Pages Functions çš„åŒå¹³å°é€šç”¨ä»£ç†æœåŠ¡ã€‚å®ƒæ—¨åœ¨æä¾›çµæ´»ã€å¿«é€Ÿçš„ä»£ç†èƒ½åŠ›ï¼Œå¹¶æœ€å¤§ç¨‹åº¦åœ°ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œè®©æ‚¨èƒ½è½»æ¾æ‹¥æœ‰è‡ªå·±çš„ä¸“å±ä»£ç†ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

*   **âš¡ åŒå¹³å°éƒ¨ç½²:** åŒæ—¶æ”¯æŒ Netlify å’Œ Cloudflareï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„åå¥½å’Œç½‘ç»œç¯å¢ƒé€‰æ‹©ä½¿ç”¨ã€‚
*   **ğŸ’¨ ç®€åŒ–çš„ Cloudflare éƒ¨ç½²:** æ— éœ€ `wrangler` CLIï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®è·¯ç”±ã€‚åªéœ€åœ¨ Cloudflare Pages ä¸­ç‚¹å‡»å‡ ä¸‹ï¼Œå³å¯åŒæ—¶éƒ¨ç½²é™æ€ä¸»é¡µå’Œä»£ç†æœåŠ¡ã€‚
*   **ğŸ”§ é…ç½®ä¸­å¿ƒåŒ–:** æ‰€æœ‰å…³é”®é…ç½®ï¼ˆå¦‚ä»£ç†ç™½åå•ã€åŸŸåç­‰ï¼‰éƒ½é›†ä¸­åœ¨ `shared/config.js` æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ã€‚
*   **ğŸš€ ä¸€é”®éƒ¨ç½²:** æä¾›ä¾¿æ·çš„éƒ¨ç½²æŒ‰é’®ï¼Œè®©æ‚¨åœ¨å‡ åˆ†é’Ÿå†…å®ŒæˆæœåŠ¡çš„ä¸Šçº¿ã€‚
*   **ğŸ¯ ç‰¹å®šä»£ç†:**
    *   **GitHub & Docker èµ„æº:** ä»£ç† GitHub (raw, release, avatars) å’Œ Docker (registry, hub) çš„èµ„æºï¼Œè§£å†³éƒ¨åˆ†ç½‘ç»œç¯å¢ƒä¸‹è®¿é—®ç¼“æ…¢æˆ–å¤±è´¥çš„é—®é¢˜ã€‚
    *   **Catbox.moe åå‘ä»£ç†:** å®‰å…¨ã€åŒ¿ååœ°è®¿é—® `catbox.moe` ä¸Šçš„å†…å®¹ã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–çš„ monorepo ç»“æ„ï¼ŒèŒè´£æ¸…æ™°ï¼š

```text
.
â”œâ”€â”€ netlify/                   # Netlify å¹³å°ç›¸å…³ä»£ç 
â”‚   â”œâ”€â”€ build/                 # (æ„å»ºåç”Ÿæˆ) é™æ€ä¸»é¡µè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ functions/             # Netlify Functions (ä»£ç†é€»è¾‘)
â”‚   â”œâ”€â”€ generate-home.js       # ä¸»é¡µç”Ÿæˆè„šæœ¬
â”‚   â”œâ”€â”€ netlify.toml           # Netlify éƒ¨ç½²é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ package.json           # Netlify æ„å»ºä¾èµ–
â”œâ”€â”€ pages/                     # Cloudflare Pages å¹³å°ç›¸å…³ä»£ç 
â”‚   â”œâ”€â”€ build/                 # (æ„å»ºåç”Ÿæˆ) é™æ€ä¸»é¡µå’Œ Worker è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ generate-home.js       # ä¸»é¡µç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ package.json           # Cloudflare Pages æ„å»ºä¾èµ–
â”œâ”€â”€ shared/                    # å…±äº«é…ç½®
â”‚   â””â”€â”€ config.js              # æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè¢«æ‰€æœ‰å¹³å°å¼•ç”¨
â”œâ”€â”€ worker/                    # (ä»…ä¾›å‚è€ƒ) Cloudflare Worker ç‹¬ç«‹å¼€å‘ç›®å½•
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ proxy-worker.js    # ä»£ç†æ ¸å¿ƒé€»è¾‘ (ä¼šè¢« pages æ„å»ºè„šæœ¬å¤åˆ¶)
â””â”€â”€ README.md                  # æœ¬è¯´æ˜æ–‡ä»¶
```

---

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

éƒ¨ç½²æ­¤æœåŠ¡éå¸¸ç®€å•ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

### ç¬¬ã€‡æ­¥ï¼šå‡†å¤‡å·¥ä½œ (å¿…åš)

1.  **Fork æœ¬ä»“åº“**
    ç‚¹å‡»æ­¤é¡µé¢å³ä¸Šè§’çš„ **"Fork"** æŒ‰é’®ï¼Œå°†æ­¤é¡¹ç›®å¤åˆ¶åˆ°æ‚¨è‡ªå·±çš„ GitHub è´¦æˆ·ä¸‹ã€‚åç»­çš„æ‰€æœ‰æ“ä½œéƒ½å°†åœ¨æ‚¨ Fork åçš„ä»“åº“ä¸­è¿›è¡Œã€‚

2.  **ä¿®æ”¹ `shared/config.js`**
    åœ¨æ‚¨ Fork çš„ä»“åº“ä¸­ï¼Œæ‰¾åˆ°å¹¶ç¼–è¾‘ `shared/config.js` æ–‡ä»¶ï¼Œå°† `GITHUB_USERNAME` çš„å€¼ä¿®æ”¹ä¸ºæ‚¨è‡ªå·±çš„ GitHub ç”¨æˆ·åã€‚
    ```javascript
    // shared/config.js
    export const GITHUB_USERNAME = "ä½ çš„GitHubç”¨æˆ·å"; // æ›¿æ¢è¿™é‡Œ
    ```
    > **æç¤º:** `NETLIFY_HOME_DOMAIN` å’Œ `CF_PAGES_HOME_DOMAIN` è¿™ä¸¤ä¸ªå˜é‡è¯·åœ¨å®Œæˆéƒ¨ç½²ã€è·å¾—å®é™…åŸŸååå†å›æ¥ä¿®æ”¹ã€‚

### ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²åˆ° Cloudflare Pages

è¿™æ˜¯æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œåªéœ€ä¸€æ¬¡éƒ¨ç½²å³å¯åŒæ—¶æ‹¥æœ‰ä¸»é¡µå’Œä»£ç†åŠŸèƒ½ã€‚

1.  **ç™»å½•åˆ° Cloudflare ä»ªè¡¨æ¿**ï¼Œè¿›å…¥ **Workers & Pages**ã€‚
2.  ç‚¹å‡» **"åˆ›å»ºåº”ç”¨ç¨‹åº"** -> **"Pages"** -> **"è¿æ¥åˆ° Git"**ã€‚
3.  é€‰æ‹©æ‚¨åˆšåˆš Fork çš„ `netgit` ä»“åº“å¹¶å¼€å§‹è®¾ç½®ã€‚
4.  åœ¨ **â€œæ„å»ºå’Œéƒ¨ç½²â€** è®¾ç½®é¡µé¢ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

    *   **é¡¹ç›®åç§°:** ä»»æ„å¡«å†™ (ä¾‹å¦‚ `my-proxy`)
    *   **ç”Ÿäº§åˆ†æ”¯:** `main`
    *   **æ¡†æ¶é¢„è®¾:** `None`
    *   **æ„å»ºè®¾ç½®:**
        *   **æ ¹ç›®å½•:** `/pages`
        *   **æ„å»ºå‘½ä»¤:** `npm install && npm run build`
        *   **æ„å»ºè¾“å‡ºç›®å½•:** `build`

5.  ç‚¹å‡» **â€œä¿å­˜å¹¶éƒ¨ç½²â€**ã€‚Cloudflare å°†ä¼šè‡ªåŠ¨æ„å»ºé¡¹ç›®ï¼Œå¹¶å°† `pages/build` ç›®å½•ä¸‹çš„ `index.html` (ä¸»é¡µ) å’Œ `_worker.js` (ä»£ç†æœåŠ¡) ä¸€åŒéƒ¨ç½²ã€‚
6.  éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ª `.pages.dev` åŸŸå (ä¾‹å¦‚ `my-proxy.pages.dev`)ã€‚**è¿™å°±æ˜¯æ‚¨çš„ Cloudflare ä»£ç†åœ°å€ï¼**

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åˆ° Netlify (å¯é€‰)

å¦‚æœæ‚¨ä¹Ÿæƒ³åœ¨ Netlify ä¸Šéƒ¨ç½²ä¸€ä¸ªå‰¯æœ¬ã€‚

1.  ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ **"Deploy to Netlify"** æŒ‰é’®ã€‚
2.  ç™»å½•æ‚¨çš„ Netlify è´¦æˆ·å¹¶æˆæƒ GitHubã€‚
3.  Netlify ä¼šè‡ªåŠ¨è¯†åˆ«ä»“åº“ä¸­çš„ `netlify.toml` æ–‡ä»¶å¹¶å¡«å……å¤§éƒ¨åˆ†è®¾ç½®ã€‚è¯·ç¡®è®¤ä»¥ä¸‹ä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼š
    *   **Base directory:** `netlify`
    *   **Build command:** `cd netlify && npm install && npm run build`
    *   **Publish directory:** `netlify/build`
4.  ç‚¹å‡» **"Deploy site"**ã€‚
5.  éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ª `.netlify.app` çš„åŸŸåã€‚

### ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°æœ€ç»ˆåŸŸå (é‡è¦)

ç°åœ¨æ‚¨å·²ç»æ‹¥æœ‰äº† Cloudflare å’Œ/æˆ– Netlify çš„åŸŸåã€‚

1.  å›åˆ°æ‚¨ Fork çš„ GitHub ä»“åº“ä¸­ï¼Œå†æ¬¡ç¼–è¾‘ `shared/config.js` æ–‡ä»¶ã€‚
2.  å°† `CF_PAGES_HOME_DOMAIN` å’Œ `NETLIFY_HOME_DOMAIN` çš„å€¼æ›´æ–°ä¸ºæ‚¨åˆšåˆšè·å¾—çš„**å®Œæ•´åŸŸå**ï¼ˆåŒ…å« `https://`ï¼‰ã€‚
    ```javascript
    // shared/config.js
    export const CF_PAGES_HOME_DOMAIN = "https://my-proxy.pages.dev"; // æ›¿æ¢ä¸ºä½ çš„ Cloudflare åŸŸå
    export const NETLIFY_HOME_DOMAIN = "https://my-netlify-site.netlify.app"; // æ›¿æ¢ä¸ºä½ çš„ Netlify åŸŸå
    ```
3.  æäº¤å¹¶æ¨é€è¿™æ¬¡ä¿®æ”¹ã€‚Cloudflare å’Œ Netlify ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼Œæ‚¨çš„ä¸»é¡µä¸Šçš„é“¾æ¥ç°åœ¨å°†æ˜¯æ­£ç¡®çš„ã€‚

---

## âœ… å¦‚ä½•ä½¿ç”¨

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥æ ¹æ®ä¸»é¡µä¸Šçš„æç¤ºä½¿ç”¨ä»£ç†æœåŠ¡ã€‚

*   **GitHub ä»£ç†**
    ```
    <ä½ çš„åŸŸå>/ghproxy/https://github.com/owner/repo/archive/main.zip
    ```
*   **Docker ä»£ç†**
    ```
    <ä½ çš„åŸŸå>/dockerproxy/https://registry-1.docker.io/v2/
    ```
*   **Catbox ä»£ç†**
    ```
    <ä½ çš„åŸŸå>/catbox/some_file.jpg
    ```
> å°† `<ä½ çš„åŸŸå>` æ›¿æ¢ä¸ºæ‚¨çš„ Cloudflare æˆ– Netlify æœåŠ¡çš„å®é™…åŸŸåã€‚

---

## ğŸ’¡ å¸¸è§é—®é¢˜

*   **ä¸ºä»€ä¹ˆ Cloudflare ä»£ç†ä¸å·¥ä½œï¼Ÿ**
    *   è¯·æ£€æŸ¥æ‚¨çš„æ„å»ºè®¾ç½®æ˜¯å¦ä¸æŒ‡å—ä¸­çš„å®Œå…¨ä¸€è‡´ï¼Œç‰¹åˆ«æ˜¯ **æ ¹ç›®å½•** è®¾ç½®ä¸º `/pages`ã€‚
    *   `_worker.js` æ–‡ä»¶æ˜¯å¦æˆåŠŸç”Ÿæˆå¹¶è¢«å¤åˆ¶åˆ°äº† `pages/build` ç›®å½•ä¸­ã€‚

*   **å¦‚ä½•æ›´æ–°ä»£ç†è§„åˆ™æˆ–ç™½åå•ï¼Ÿ**
    *   ç›´æ¥ä¿®æ”¹ `shared/config.js` æ–‡ä»¶ã€‚
    *   æäº¤å¹¶æ¨é€åˆ°æ‚¨çš„ GitHub `main` åˆ†æ”¯ã€‚
    *   Cloudflare å’Œ Netlify ä¼šè‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç å¹¶é‡æ–°éƒ¨ç½²ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼å¦‚æœæ‚¨æœ‰æ”¹è¿›æ„è§ã€å‘ç° bug æˆ–å¸Œæœ›æ·»åŠ æ–°åŠŸèƒ½ï¼Œè¯·éšæ—¶æäº¤ [Issue](https://github.com/2476818641/netgit/issues) æˆ– [Pull Request](https://github.com/2476818641/netgit/pulls)ã€‚

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT](LICENSE) è®¸å¯è¯å‘å¸ƒã€‚
```
