# NetGit - åŒå¹³å°é€šç”¨ä»£ç†æœåŠ¡ ğŸš€

[![ä¸€é”®éƒ¨ç½²åˆ° Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/2476818641/netgit)

**NetGit** æ˜¯ä¸€ä¸ªåŸºäº Cloudflare Pages å’Œ Netlify Functions çš„åŒå¹³å°é€šç”¨ä»£ç†æœåŠ¡ã€‚å®ƒæ—¨åœ¨æä¾›çµæ´»ã€å¿«é€Ÿçš„ä»£ç†èƒ½åŠ›ï¼Œå¹¶æœ€å¤§ç¨‹åº¦åœ°ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œè®©æ‚¨èƒ½è½»æ¾æ‹¥æœ‰è‡ªå·±çš„ä¸“å±ä»£ç†ã€‚

---

## âœ¨ ä¸»è¦ç‰¹æ€§

*   **âš¡ åŒå¹³å°éƒ¨ç½²:** åŒæ—¶æ”¯æŒ Cloudflare Pages å’Œ Netlifyï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„åå¥½å’Œç½‘ç»œç¯å¢ƒè‡ªç”±é€‰æ‹©ã€‚
*   **ğŸ’¨ å¯é éƒ¨ç½²:** æä¾›æ¸…æ™°çš„æ‰‹åŠ¨éƒ¨ç½²æŒ‡å—ï¼Œç¡®ä¿åœ¨å¤æ‚çš„é¡¹ç›®ç»“æ„ä¸‹ä¹Ÿèƒ½ 100% æˆåŠŸéƒ¨ç½²ã€‚
*   **ğŸ”§ é…ç½®ä¸­å¿ƒåŒ–:** æ‰€æœ‰å…³é”®é…ç½®ï¼ˆå¦‚ä»£ç†ç™½åå•ã€åŸŸåç­‰ï¼‰éƒ½é›†ä¸­åœ¨ `shared/config.js` æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ã€‚
*   **ğŸ¯ å¤šåŠŸèƒ½ä»£ç†:**
    *   **GitHub & Docker:** è§£å†³éƒ¨åˆ†ç½‘ç»œç¯å¢ƒä¸‹è®¿é—® GitHub (raw, release) å’Œ Docker (registry) èµ„æºç¼“æ…¢æˆ–å¤±è´¥çš„é—®é¢˜ã€‚
    *   **Catbox.moe:** å®‰å…¨ã€åŒ¿ååœ°åå‘ä»£ç† `catbox.moe` ä¸Šçš„å†…å®¹ã€‚

---

## ğŸ› ï¸ éƒ¨ç½²æŒ‡å—

æ•´ä¸ªéƒ¨ç½²è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼Œè¯·åŠ¡å¿…æŒ‰é¡ºåºæ“ä½œã€‚

### æ­¥éª¤ 1ï¼šå‡†å¤‡å·¥ä½œ (Fork & ä¿®æ”¹åˆå§‹é…ç½®)

è¿™æ˜¯æ‰€æœ‰åç»­éƒ¨ç½²çš„åŸºç¡€ï¼Œè¯·åŠ¡å¿…å®Œæˆã€‚

1.  **Fork æœ¬ä»“åº“**
    ç‚¹å‡»æ­¤é¡µé¢å³ä¸Šè§’çš„ **"Fork"** æŒ‰é’®ï¼Œå°†æ­¤é¡¹ç›®å®Œæ•´åœ°å¤åˆ¶åˆ°æ‚¨è‡ªå·±çš„ GitHub è´¦æˆ·ä¸‹ã€‚

2.  **ä¿®æ”¹ `shared/config.js`**
    åœ¨æ‚¨ Fork åçš„ä»“åº“ä¸­ï¼Œæ‰¾åˆ°å¹¶ç¼–è¾‘ `shared/config.js` æ–‡ä»¶ï¼Œå°† `GITHUB_USERNAME` çš„å€¼ä¿®æ”¹ä¸ºæ‚¨è‡ªå·±çš„ GitHub ç”¨æˆ·åã€‚

    ```javascript
    // shared/config.js
    export const GITHUB_USERNAME = "ä½ çš„GitHubç”¨æˆ·å"; // åŠ¡å¿…æ›¿æ¢è¿™é‡Œ
    ```
    > **æ³¨æ„ï¼š** `NETLIFY_HOME_DOMAIN` å’Œ `CF_PAGES_HOME_DOMAIN` è¿™ä¸¤ä¸ªå˜é‡è¯·æš‚æ—¶ç•™ç©ºï¼Œç­‰å¾…éƒ¨ç½²æˆåŠŸè·å¾—åŸŸååå†å›æ¥ä¿®æ”¹ã€‚

### æ­¥éª¤ 2ï¼šé€‰æ‹©å¹³å°å¹¶éƒ¨ç½²

æˆ‘ä»¬æ¨èä½¿ç”¨ Cloudflare Pagesï¼Œå› ä¸ºå®ƒæ€§èƒ½æ›´ä¼˜ä¸”åŠŸèƒ½æ›´å…¨ã€‚

#### A. éƒ¨ç½²åˆ° Cloudflare Pages (æ¨è)

ç”±äºæœ¬é¡¹ç›®ç»“æ„ç‰¹æ®Šï¼Œéœ€è¦é€šè¿‡ Cloudflare æ§åˆ¶å°æ‰‹åŠ¨è®¾ç½®æ‰èƒ½ç¡®ä¿æˆåŠŸã€‚

1.  ç™»å½• Cloudflare ä»ªè¡¨æ¿ï¼Œè¿›å…¥ **Workers & Pages**ã€‚
2.  ç‚¹å‡» **"åˆ›å»ºåº”ç”¨ç¨‹åº"** -> **"Pages"** -> **"è¿æ¥åˆ° Git"**ã€‚
3.  é€‰æ‹©æ‚¨åˆšåˆš Fork çš„ `netgit` ä»“åº“ã€‚
4.  åœ¨ **â€œè®¾ç½®æ„å»ºå’Œéƒ¨ç½²â€** é¡µé¢ï¼Œ**è¯·ç²¾ç¡®å¡«å†™**ä»¥ä¸‹ä¿¡æ¯ï¼š
    *   **é¡¹ç›®åç§°:** ä»»æ„å¡«å†™ (ä¾‹å¦‚ `my-netgit`)
    *   **ç”Ÿäº§åˆ†æ”¯:** `main`
    *   **æ¡†æ¶é¢„è®¾:** `None`
    *   **æ„å»ºå‘½ä»¤:** `npm install && npm run build`
    *   **æ„å»ºè¾“å‡ºç›®å½•:** `build`
    *   **æ ¹ç›®å½• (Root directory):** `/pages`  **<-- âš ï¸ è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼**
5.  ç‚¹å‡» **â€œä¿å­˜å¹¶éƒ¨ç½²â€**ã€‚éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ª `.pages.dev` åŸŸåã€‚

#### B. éƒ¨ç½²åˆ° Netlify (å¤‡é€‰æ–¹æ¡ˆ)

1.  ç‚¹å‡»æœ¬é¡µé¢é¡¶éƒ¨çš„ **"Deploy to Netlify"** è“è‰²æŒ‰é’®ã€‚
2.  ç™»å½•å¹¶æˆæƒåï¼ŒNetlify ä¼šè‡ªåŠ¨è¯†åˆ«é…ç½®ã€‚**è¯·æ£€æŸ¥å¹¶ç¡®è®¤**ä»¥ä¸‹ä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼š
    *   **Base directory:** `netlify`
    *   **Build command:** `npm install && npm run build`
    *   **Publish directory:** `build`
3.  ç‚¹å‡» **"Deploy site"**ã€‚éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ª `.netlify.app` çš„åŸŸåã€‚

### æ­¥éª¤ 3ï¼šæ›´æ–°æœ€ç»ˆåŸŸå (âš ï¸ å…³é”®)

è¿™æ˜¯ç¡®ä¿ä¸»é¡µé“¾æ¥å’ŒåŠŸèƒ½æ­£å¸¸å·¥ä½œçš„**æœ€åä¸€æ­¥**ï¼Œè¯·å‹¿è·³è¿‡ï¼

1.  å›åˆ°æ‚¨ Fork çš„ GitHub ä»“åº“ï¼Œå†æ¬¡æ‰“å¼€ `shared/config.js` æ–‡ä»¶ã€‚
2.  å°† `CF_PAGES_HOME_DOMAIN` å’Œ `NETLIFY_HOME_DOMAIN` çš„å€¼æ›´æ–°ä¸ºæ‚¨åˆšåˆšè·å¾—çš„**å®Œæ•´åŸŸå**ï¼ˆå¦‚æœåªéƒ¨ç½²äº†ä¸€ä¸ªå¹³å°ï¼Œå¦ä¸€ä¸ªç•™ç©ºå³å¯ï¼‰ã€‚

    ```javascript
    // shared/config.js
    export const GITHUB_USERNAME = "ä½ çš„GitHubç”¨æˆ·å"; // è¿™ä¸ªåº”è¯¥å·²ç»ä¿®æ”¹è¿‡äº†
    export const CF_PAGES_HOME_DOMAIN = "https://my-netgit.pages.dev"; // æ›¿æ¢ä¸ºä½ çš„ Cloudflare åŸŸå
    export const NETLIFY_HOME_DOMAIN = "https://my-netlify-site.netlify.app"; // æ›¿æ¢ä¸ºä½ çš„ Netlify åŸŸå
    ```
3.  æäº¤å¹¶æ¨é€è¿™æ¬¡ä¿®æ”¹ã€‚å¹³å°ä¼šè‡ªåŠ¨è§¦å‘ä¸€æ¬¡æ–°çš„éƒ¨ç½²ï¼Œéƒ¨ç½²å®Œæˆåï¼Œæ‚¨çš„ä¸»é¡µå’Œæ‰€æœ‰åŠŸèƒ½å°†å®Œå…¨æ­£å¸¸ã€‚

---

## âœ… å¦‚ä½•ä½¿ç”¨

éƒ¨ç½²å®Œæˆåï¼Œå°† `<ä½ çš„åŸŸå>` æ›¿æ¢ä¸ºæ‚¨çš„ Cloudflare æˆ– Netlify æœåŠ¡çš„å®é™…åŸŸåå³å¯ä½¿ç”¨ã€‚

*   **GitHub ä»£ç†:** `<ä½ çš„åŸŸå>/ghproxy/https://github.com/owner/repo/archive/main.zip`
*   **Docker ä»£ç†:** `<ä½ çš„åŸŸå>/dockerproxy/https://registry-1.docker.io/v2/`
*   **Catbox ä»£ç†:** `<ä½ çš„åŸŸå>/catbox/some_file.jpg`

---
## ğŸ“‚ é¡¹ç›®ç»“æ„
```text
.
â”œâ”€â”€ netlify/                   # Netlify å¹³å°ç›¸å…³ä»£ç 
â”œâ”€â”€ pages/                     # Cloudflare Pages å¹³å°ç›¸å…³ä»£ç 
â”œâ”€â”€ shared/                    # å…±äº«é…ç½® (æ ¸å¿ƒ)
â””â”€â”€ worker/                    # (å‚è€ƒ) ç‹¬ç«‹ Worker é€»è¾‘
```
---

## ğŸ’¡ å¸¸è§é—®é¢˜

*   **Cloudflare ä»£ç†ä¸å·¥ä½œæ€ä¹ˆåŠï¼Ÿ**
    è¯·ä»”ç»†æ£€æŸ¥å¹¶ç¡®ä¿ **æ­¥éª¤ 2A** ä¸­çš„æ„å»ºè®¾ç½®å®Œå…¨æ­£ç¡®ï¼Œå°¤å…¶æ˜¯ **æ ¹ç›®å½•** å¿…é¡»æ˜¯ `/pages`ã€‚ä»»ä½•ä¸€é¡¹é”™è¯¯éƒ½å¯èƒ½å¯¼è‡´éƒ¨ç½²å¤±è´¥ã€‚

*   **å¦‚ä½•æ›´æ–°ä»£ç†è§„åˆ™æˆ–ç™½åå•ï¼Ÿ**
    ç›´æ¥ä¿®æ”¹ `shared/config.js` æ–‡ä»¶ï¼Œç„¶åæäº¤å¹¶æ¨é€åˆ°æ‚¨çš„ GitHub `main` åˆ†æ”¯å³å¯ã€‚å¹³å°ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼å¦‚æœæ‚¨æœ‰æ”¹è¿›æ„è§ã€å‘ç° bug æˆ–å¸Œæœ›æ·»åŠ æ–°åŠŸèƒ½ï¼Œè¯·éšæ—¶æäº¤ [Issue](https://github.com/2476818641/netgit/issues) æˆ– [Pull Request](https://github.com/2476818641/netgit/pulls)ã€‚

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT](LICENSE) è®¸å¯è¯å‘å¸ƒã€‚
```

è¿™ä¸ªç‰ˆæœ¬éå¸¸æ¸…æ™°ï¼Œèƒ½æœ‰æ•ˆå¼•å¯¼ç”¨æˆ·å®Œæˆéƒ¨ç½²ï¼Œä½ åšçš„å†³ç­–æ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚
